<!-- This file is autogenerated by running ./script/test -->
# File Overview

This file is organized into the following sections

1.  Book Structure
2.  Chapter Structure
3.  Page Structure
4.  Metadata Structure

## Structure.Book.Body

When an entire book is being validated, the `<body>` element needs to
have additional attributes and has a restricted set of children.

`<body itemscope="itemscope" itemtype="http://schema.org/Book">`

1.  **body.attlist**
2.  [Structure.Book.Metadata](#structurebookmetadata)
3.  [Structure.Book.ToC](#structurebooktoc)
4.  `[`[Structure.Chapter](#structurechapter)` |
    `[Structure.Page](#structurepage)`]+`

`</body>`

## Structure.Book.Head.attlist

This defines a set of attributes:

* ` itemscope="itemscope"`
* ` itemtype="http://schema.org/Book"`

And other things:

1.  When an entire book is being validated, the `<head>` element needs
    to have additional attributes and has a restricted set of children.

^

## Structure.Book.Metadata

`<div data-type="metadata">`

1.  [Structure.Metadata.Title](#structuremetadatatitle)
2.  [Structure.Metadata.Uri](#structuremetadatauri)
3.  [Structure.Metadata.ShortId](#structuremetadatashortid)
4.  [Structure.Metadata.Authors](#structuremetadataauthors)
5.  [Structure.Metadata.Publishers](#structuremetadatapublishers)
6.  [Structure.Book.Metadata.PrintStyle](#structurebookmetadataprintstyle)
7.  [Structure.Metadata.TranslucentBinding](#structuremetadatatranslucentbinding)`?`
8.  [Structure.Metadata.Permissions](#structuremetadatapermissions)
9.  [Structure.Metadata.Description](#structuremetadatadescription)
10. [Structure.Metadata.Subjects](#structuremetadatasubjects)

`</div>`

## Structure.Book.Metadata.PrintStyle

`<div class="print-style">`

1.  (text...)
2.  `<span data-type="print-style">`**TODO.enum.datatype**`</span>`

`</div>`

## Structure.Book.ToC

`<nav id="toc">`
`<ol>`

1.  [Structure.Book.ToC.LeafItem](#structurebooktocleafitem)`*`
2.  [Structure.Book.ToC.InternalItem](#structurebooktocinternalitem)`+`
3.  [Structure.Book.ToC.LeafItem](#structurebooktocleafitem)`*`

`</ol>`

`</nav>`
## Structure.Book.ToC.LeafItem

`<li cnx-archive-shortid=`[ShortId.datatype](#shortiddatatype)`
cnx-archive-uri=`[UUID-and-version.datatype](#uuid-and-versiondatatype)`><a
href=`[URI.datatype](#uridatatype)`>`(text...)`</a></li>`
## Structure.Book.ToC.InternalItem

`<li>`

1.  `<span>`(text...)`</span>`
2.  `<ol>[`[Structure.Book.ToC.InternalItem](#structurebooktocinternalitem)`
    | `[Structure.Book.ToC.LeafItem](#structurebooktocleafitem)`]+</ol>`

`</li>`

## Structure.Chapter

`<div data-type="chapter">`

1.  [Structure.ChapterMetadata](#structurechaptermetadata)
2.  `<h1 data-type="document-title">`**Inline.model**`</h1>`
3.  [Structure.Page](#structurepage)`+`

`</div>`

## Structure.ChapterMetadata

`<div data-type="metadata">`

1.  [Structure.Metadata.Title](#structuremetadatatitle)
2.  [Structure.Metadata.TranslucentBinding](#structuremetadatatranslucentbinding)
3.  [Structure.Metadata.Permissions](#structuremetadatapermissions)

`</div>`

## Structure.Page

`<div data-type="page">`

1.  **class.attrib**
2.  **id.attrib.required**
3.  [Structure.Page.Metadata](#structurepagemetadata)
4.  [Structure.Page.Title](#structurepagetitle)
5.  [Structure.Page.Abstract](#structurepageabstract)`?`
6.  **Flow.model**`*`
7.  [Structure.Page.Glossary](#structurepageglossary)`?`
8.  [Structure.Page.FootnoteRefs](#structurepagefootnoterefs)`?`

`</div>`

## Structure.Page.Title

`<div data-type="document-title">`

1.  **id.attrib**
2.  **Inline.model**

`</div>`

## Structure.Page.Abstract

`<div data-type="abstract">`

1.  **id.attrib**
2.  **Flow.model**

`</div>`

## Structure.Page.Glossary

This occurs at the end of a Page and contains all the definitions that
will be collated into a Chapter/Book Glossary

`<div data-type="glossary">`

1.  `<h3 data-type="glossary-title">Glossary</h3>`
2.  **dl**`+`

`</div>`

## Structure.Page.FootnoteRefs

This occurs at the end of a Page (like the Glossary) and contains all
the footnote text

`<div data-type="footnote-refs">`

1.  `<h3 data-type="footnote-refs-title">Footnotes</h3>`
2.  `<ul data-list-type="bulleted" data-bullet-style="none">(`
    `<li data-type="footnote-ref">`
    
    1.  **id.attrib.required**
    2.  `<a data-type="footnote-ref-link"
        href=`[URI.datatype](#uridatatype)`>`**Number.datatype**`</a>`
    3.  `<span
        data-type="footnote-ref-content">`**Inline.model**`</span>`
    
    `</li>`
    
    `)+</ul>`

`</div>`

## Structure.Page.Metadata

`<div data-type="metadata">`

1.  [Structure.Metadata.Title](#structuremetadatatitle)
2.  [Structure.Metadata.Uri](#structuremetadatauri)
3.  [Structure.Metadata.ShortId](#structuremetadatashortid)
4.  [Structure.Metadata.Authors](#structuremetadataauthors)
5.  [Structure.Metadata.Publishers](#structuremetadatapublishers)
6.  [Structure.Metadata.Permissions](#structuremetadatapermissions)
7.  [Structure.Metadata.Description](#structuremetadatadescription)
8.  [Structure.Metadata.Keywords](#structuremetadatakeywords)
9.  [Structure.Metadata.Subjects](#structuremetadatasubjects)`?`
10. [Structure.Metadata.Resources](#structuremetadataresources)`?`

`</div>`

## Structure.Metadata.Title

`<h1 data-type="document-title" itemprop="name">`**Inline.model**`</h1>`
## Structure.Metadata.Uri

`<span data-type="cnx-archive-uri"
data-value=UUID-and-version.datatype/>`
## Structure.Metadata.ShortId

`<span data-type="cnx-archive-shortid" data-value=ShortId.datatype/>`
## Structure.Metadata.Authors

`<div class="authors">`

1.  `(`
    1.  (text...)`?`
    2.  [Structure.Metadata.Authors.Item](#structuremetadataauthorsitem)
    
    `)+`
2.  (text...)`?`

`</div>`

## Structure.Metadata.Authors.Item

`<span data-type="author" itemprop="author" itemscope="itemscope"
itemtype="http://schema.org/Person">`

1.  **id.attrib.required**
2.  `<a data-type="cnx-id" href=`[Text.datatype](#textdatatype)`
    itemprop="url">`**Text.datatype**`</a>`

`</span>`

## Structure.Metadata.Publishers

`<div class="publishers">`

1.  `(`
    1.  (text...)`?`
    2.  [Structure.Metadata.Publishers.Item](#structuremetadatapublishersitem)
    
    `)+`
2.  (text...)`?`

`</div>`

## Structure.Metadata.Publishers.Item

`<span data-type="publisher" itemprop="publisher" itemscope="itemscope"
itemtype="http://schema.org/Person">`

1.  **id.attrib.required**
2.  `<a data-type="cnx-id" href=`[Text.datatype](#textdatatype)`
    itemprop="url">`**Text.datatype**`</a>`

`</span>`

## Structure.Metadata.Permissions

`<div class="permissions">`

1.  [Structure.Metadata.Copyrights](#structuremetadatacopyrights)`?`
2.  [Structure.Metadata.License](#structuremetadatalicense)

`</div>`

## Structure.Metadata.License

`<p class="license">`

1.  (text...)
2.  `<a data-type="license" href=`[URI.datatype](#uridatatype)`
    itemprop="dc:license,lrmi:useRightsURL">`(text...)`</a>`

`</p>`

## Structure.Metadata.Copyrights

`<p class="copyright">`

1.  (text...)
2.  [Structure.Metadata.Copyrights.Item](#structuremetadatacopyrightsitem)`+`

`</p>`

## Structure.Metadata.Copyrights.Item

`<span data-type="copyright-holder" itemprop="copyright-holder"
itemscope="itemscope" itemtype="http://schema.org/Person"><a
data-type="cnx-id" href=`[UserLogin.datatype](#userlogindatatype)`
itemprop="url">`**UserName.datatype**`</a></span>`
## Structure.Metadata.Description

`<div class="description" data-type="description"
itemprop="description">`**Flow.model**`+</div>`
## Structure.Metadata.Keywords

`(<div data-type="keyword" itemprop="keywords">`(text...)`</div>)*`
## Structure.Metadata.Subjects

Usually books have at most one subject but "Featured Book" is a subject
so there may be 2

`(<div data-type="subject"
itemprop="about">`**Subject.datatype**`</div>)*`
## Structure.Metadata.Resources

These are the Image (and other) files related to the Page. **TODO: Are
they parsed by anything?**

`<div data-type="resources" style="display:
none">(<ul>`[Structure.Metadata.Resources.Item](#structuremetadataresourcesitem)`+</ul>)?</div>`
## Structure.Metadata.Resources.Item

`<li><a href=`[Sha.datatype](#shadatatype)`>`**Sha.datatype**`</a></li>`
## Structure.Metadata.TranslucentBinding

**TODO: remove me. why is this here?**

`<span data-type="binding" data-value="translucent"/>`
## enum.attr.meta.itemprop

These are the additional **&lt;meta&gt;** elements for a Book. **TODO:
Restrict the `<head>` to these elements**

One of the following:

* `"inLanguage"`
* `"accessibilityFeature"`
* `"dateCreated"`
* `"dateModified"`

## enum.attr.meta.data-type

`"language"`
## meta.attlist

This interleaves additional requirements which restricts the definition
of `meta.attlist`

One of the following:

* 1.  ` itemprop="inLanguage"`
  2.  ` data-type="language"`

* ` itemprop=`[`"accessibilityFeature"` | `"dateCreated"` |
  `"dateModified"`]



